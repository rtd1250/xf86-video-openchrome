2006-09-22   Jon Nettleton <jon-dot-nettleton-at-gmail-dot-com>

	* unichrome/via_drmclient.h:

	include stdint.h instead of re-typedefining CARD32

2006-09-17  Benno Schulenberg  <bensberg-at-justemail-dot-net>

	* unichrome/via_driver.c: (VIASave):

	Put in a few extra debugging lines.

2006-09-05  Benno Schulenberg  <bensberg-at-justemail-dot-net>

	* unichrome/via_swov.c:

	Comment and whitespace tweaks.

2006-09-05  Benno Schulenberg  <bensberg-at-justemail-dot-net>

	* unichrome/via_id.c:

	Add an ID (trac ticket #67), note identical numbers, remove
	a duplicate, remove obsolete unknown, remove trailing tab.

2006-08-27  Benno Schulenberg  <bensberg-at-justemail-dot-net>

	* unichrome/via_id.c:

	Textual tweaks.

2006-08-27  Benno Schulenberg  <bensberg-at-justemail-dot-net>

	* unichrome/via_dri.c: (VIADRIAgpInit):

	Rearrange declarations to fix compilation problem with gcc-2.96,
	reported by Nikolai V. Ivanyushin <nvi-at-sven-dot-ru>.

2006-08-22  Benno Schulenberg  <bensberg-at-justemail-dot-net>

	* unichrome/via_accel.c:

	Whitespace adjustment; getting back close to Xorg.
	Comment tweaks and #endif clarifications.

2006-08-19  Benno Schulenberg  <bensberg-at-justemail-dot-net>

	* unichrome/via_swov.c: (viaWaitVideoCommandFire),
	(SetVideoWindow):

	Comment tweaks.

2006-08-18  Benno Schulenberg  <bensberg-at-justemail-dot-net>

	* unichrome/via_driver.h:

	Move definition of AGP_SIZE out of #ifdef VIA_HAVE_EXA block,
	to make the driver compile again for Xorg-6.8.2.

2006-08-10 Thomas Hellström <thomas-at-tungstengraphics-dot-com> 

	* unichrome/via_mode.c: (ViaModeDotClockTranslate):
	* unichrome/via_video.c: (viaPaintColorkey):

	Re-enable Ivor's Dotclock computation.
	Enable accelerated redirected colorkey painting for Xv.

2006-07-28 Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_driver.c: (VIAPreInit):

	...And get default AGP size correct as well.

2006-07-28  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_accel.c: (viaIsAGP):
	* unichrome/via_dri.c: (VIADRIAgpInit):

	Fix false AGP detection and make sure we have the correct AGP
	size.
	
2006-07-27  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via.man:
	* unichrome/via_accel.c: (viaExaUploadToScratch),
	(viaExaCheckComposite), (viaIsAGP), (viaInitExa), (viaInitAccel):
	* unichrome/via_ch7xxx.c: (ViaCH7xxxInit):
	* unichrome/via_dri.c: (VIADRIAgpInit):
	* unichrome/via_driver.c: (VIAPreInit), (VIAEnterVT), (VIALeaveVT),
	(VIAScreenInit), (VIACloseScreen):
	* unichrome/via_driver.h:
	
	Changes donated by "PConRails, LLC" and "Tungsten Graphics, Inc.":
	EXA and memory management optimizations, Manpage update.
	New options:
	  ExaScratchSize
	  MaxDRIMem
	  AGPMem
	  VBESaveRestore	
	
2006-07-27  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via.h:
	* unichrome/via_accel.c:
	* unichrome/via_dri.h:
	* unichrome/via_driver.h:
	* unichrome/via_mode.c: (ViaModeDotClockTranslate):
	* unichrome/via_swov.c: (ViaOverlayHide):
	* unichrome/via_video.c: (DecideOverlaySupport),
	(viaVideoFillPixmap), (viaPaintColorkey), (viaReputImage),
	(viaPutImage):

	Changes donated by "PConRails, LLC" and "Tungsten Graphics, Inc.":
	Video optimizations: 
	Paint colorkey correctly under composite manager.
	Make sure the driver compiles with Xorg git.
	Don't reset the primary display FIFO after XV. It's never touched
	by the Xv code, and slows things down in VBE mode.
		
	
2006-07-11  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* libxvmc/viaXvMC.c:
	* unichrome/via_dri.c:

	Change DRM major compatibility from 3.x.x to 2.x.x.

2006-07-10  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* libxvmc/driDrawable.c:
	* libxvmc/viaLowLevel.c:
	* libxvmc/viaLowLevelPro.c: (finish_header_agp),
	(computeHQVScaleAndFilter):
	* libxvmc/viaXvMC.c: (yOffs), (vOffs), (uOffs), (defaultQMatrices),
	(releaseDecoder), (grabDecoder), (setupAttribDesc),
	(releaseAttribDesc), (releaseContextResources),
	(XvMCCreateContext), (XvMCDestroyContext), (XvMCCreateSurface),
	(XvMCDestroySurface), (XvMCPutSlice2), (XvMCPutSlice),
	(updateXVOverlay), (XvMCPutSurface), (debugControl),
	(XvMCBeginSurface), (XvMCSyncSurface), (XvMCLoadQMatrix),
	(XvMCRenderSurface), (XvMCCreateBlocks), (XvMCDestroyBlocks),
	(XvMCCreateMacroBlocks), (XvMCDestroyMacroBlocks),
	(XvMCCreateSubpicture), (XvMCSetSubpicturePalette), (findOverlap),
	(XvMCClearSubpicture), (XvMCCompositeSubpicture),
	(XvMCBlendSubpicture), (XvMCBlendSubpicture2),
	(XvMCSyncSubpicture), (XvMCFlushSubpicture),
	(XvMCDestroySubpicture), (XvMCGetSubpictureStatus),
	(XvMCFlushSurface), (XvMCGetSurfaceStatus), (XvMCQueryAttributes),
	(XvMCSetAttribute), (XvMCGetAttribute), (XvMCHideSurface):
	* libxvmc/xf86dri.c:

	Remove the "config.h" includes from libxvmc, as they break it. 
	I wonder how the openChrome libXvMC has been working?

	Indent viaXvMC.c.
	
2006-07-10  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* libxvmc/viaXvMC.c: (XvMCCreateContext):
	* unichrome/via_dri.c: (VIADRIRingBufferInit), (VIADRIScreenInit):
	* unichrome/via_xvmc.c: (ViaInitXVMC):

	Update DRM version checking.

2006-07-10  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_swov.c: (viaWaitVideoCommandFire):

	Increase video command fire timeout.

2006-07-10  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_memory.c: (viaOffScreenLinear):

	Fix dri close screen segfault caused by previous commit.
	
2006-06-15  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_dri.c: (VIADRIFBInit):
	* unichrome/via_driver.h:
	* unichrome/via_memory.c: (viaOffScreenLinear), (VIAAllocLinear):

	Fix severe dri memory allocation bug. (Reported by Trevor Kramer).
	
2006-05-11  Ivor Hewitt  <ivor-at-ivor-dot-org>

	* configure.ac:
	* unichrome/via.h:
	* unichrome/via_accel.c:
	* unichrome/via_cursor.c:
	* unichrome/via_dri.c:
	* unichrome/via_driver.h:
	* unichrome/via_memcpy.c:
	* unichrome/via_memory.c:
	* unichrome/via_mode.c:
	* unichrome/via_shadow.c:
	* unichrome/via_swov.c:
	* unichrome/via_vbe.c:
	* unichrome/via_vgahw.c:
	* unichrome/via_video.c:
	* unichrome/via_xvmc.c:

    - xorg xv ABI compatibility patch (Marcin Kurek)

2006-04-14  Ivor Hewitt  <ivor-at-ivor-dot-org>

	* libxvmc/Imakefile:

        - Unbreak makefile.

2006-03-19  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* libxvmc/Makefile.am:
	* unichrome/Makefile.am:

	- Backport Makefile changes form xorg.

2006-03-17  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_driver.c:

	- Update the built-against macro to recognize Xorg if present.
	  (Reported by Eric Anholt).
	
2006-03-17  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* configure.ac:

	- Update compatibility check for XvMC.
	
2006-03-17  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_accel.c: (viaInitExa):
	* unichrome/via_driver.c: (VIAPreInit):

	- Support EXA 2.0
	
2006-03-13  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_accel.c: (viaSetupForSolidLine),
	(viaSubsequentSolidTwoPointLine), (viaSetupForDashedLine):
	* unichrome/via_driver.h:

	- Possible fix for XAA bug rendering solid lines as dashed.
	  (Reported by Lewin Edwards)
	
2006-03-08  Thomas Hellström <thomas-at-tungstengraphics-dot-com>


	* libxvmc/Imakefile:
	* unichrome/via_swov.c: 
	* unichrome/via_swov.h:
	* unichrome/via_video.c: (viaInitVideo), (viaExitVideo),
	* unichrome/via_video.h:
	* unichrome/via_xvmc.c: (initViaXvMC), (cleanupViaXvMC), (stride),
	* unichrome/via_xvmc.h:
	* unichrome/via_xvpriv.h:

	- Run indent on above files after syncing them with Xorg.

2006-02-23  Xavier Bachelot <xb_ml AT kelkoo DOT net>

	* configure.ac:

	- Fix man pages suffix
	- Bump driver version number to be equal to xorg

2006-02-21  Ivor Hewitt <ivor-at-ivor-dot-org>

	* unichrome/via_bios.h:
	* unichrome/via_driver.c: (VIAPreInit):
	* unichrome/via_mode.h:
	* unichrome/via_priv.h:
	* unichrome/via_swov.c: (viaOverlayGetV1V3Format),
	(viaOverlayGetSrcStartAddress), (viaOverlayGetFetch),
	(CreateSurface), (ViaSwovSurfaceCreate), (ViaSwovSurfaceDestroy),
	(VIAVidUpdateOverlay), (ViaOverlayHide):
	* unichrome/via_video.c: (viaInitVideo), (Flip), (viaDmaBlitImage),
	(viaPutImage), (viaQueryImageAttributes):

        - Lets have RV32 too.
        - Add 12x8 panel

2006-02-10  Ivor Hewitt <ivor-at-ivor-dot-org>

	* unichrome/via.h:
	* unichrome/via_bandwidth.c: (ViaSetPrimaryFIFO),
	(ViaSetSecondaryFIFO):
	* unichrome/via_dri.c: (VIADRIRingBufferInit):
	* unichrome/via_mode.c: (ViaModePrimary):
	* unichrome/via_swov.c: (VIAVidHWDiffInit),
	(viaOverlayGetSrcStartAddress), (viaOverlayGetFetch),
	(viaCalculateVideoColor), (viaSetColorSpace),
	(ViaInitVideoStatusFlag), (ViaSetVidCtl), (SetFIFO_V3),
	(SetFIFO_V3_64or32or32), (SetFIFO_V3_64or32or16), (SetColorKey),
	(SetChromaKey), (SetHQVFetch), (Upd_Video):
	* unichrome/via_video.c: (DecideOverlaySupport), (viaInitVideo),
	(viaDmaBlitImage):
	* unichrome/via_xvmc.c: (ViaInitXVMC), (ViaXvMCCreateContext):

    - Get some code exercised for VM800, lets see where it crumbles.

2006-01-29  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_vbe.c: (ViaVbeSetMode):

	- Fix VBE refresh setting.
	
2006-01-29  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_accel.c: (viaInitExa):
	* unichrome/via_driver.c: (VIAPreInit):

	- Merge EXA branch revisions 152:155
	
2006-01-29  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_swov.c:
	* unichrome/via_video.c: (viaXvError), (viaReputImage),
	(viaSetupAdaptors), (viaDmaBlitImage), (viaPutImage):
	* unichrome/via_xvpriv.h:

	- Removed time.h and sys/time.h includes from via_swov.c
	  (Reported by George E Sollish).
	- More verbose Xv error reporting.

2006-01-27  Thomas Hellström <thomas-at-tungstengraphics-dot-com>
	
	* unichrome/via.man:
	* unichrome/via_3d.c:
	* unichrome/via_accel.c: (viaAccelPlaneMaskHelper), (viaInitExa),
	(viaInitAccel), (viaExitAccel), (viaFinishInitAccel):
	* unichrome/via_driver.c: (VIAPreInit):
	* unichrome/via_driver.h:

	- Merge EXA branch revisions 138:152

2006-01-27  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_mode.c: (ViaModePrimary):

	- Import Luc's fix for sometimes-blanking CRTs on CLE266.
	  (Luc Verhaegen)
	
2006-01-27 Thomas Hellström <thomas-at-tungstengraphics-dot-com> 

	* unichrome/via_swov.c: (viaWaitVideoCommandFire):

	- The previous commit causes problems with older X versions.
	  Avoid using gettimeofday(). Reported by Paul Bender.
	
2006-01-26 Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via_swov.c: (viaTimeDiff), (viaWaitVideoCommandFire):

	- Make the Xv viaWaitVideoCommandFire loop time out. Better than server hang?

2006-01-26  Thomas Hellström <thomas-at-tungstengraphics-dot-com>

	* unichrome/via.man:
	* unichrome/via_driver.c: (VIAPreInit):
	* unichrome/via_driver.h:
	* unichrome/via_video.c: (viaInitVideo):

	- Added a "NoXVDMA" option to disable PCI DMA for Xv image transfers.
	  May turn out useful to vlc users.
	- Updated man page.
	
2006-01-26  Thomas Hellström <thomas-at-tungstengraphics-dot-com>   

	* unichrome/via_driver.c:

	- Added vgaHWGetIndex to vgaHW symbol list.
	  Reported by Ole Sandum.
	
2006-01-26  Thomas Hellström <thomas-at-tungstengraphics-dot-com>   

	* unichrome/via_swov.c: (ViaOverlayHide):

	- Fix HQV offset bug.
	
2006-01-26  Thomas Hellström <thomas-at-tungstengraphics-dot-com>   

	* libxvmc/driDrawable.c: (drawStamp), (getDRIDrawableInfoLocked),
	(driDestroyHashContents):
	* libxvmc/driDrawable.h:
	* libxvmc/viaLowLevel.c: (hwlLock), (hwlUnlock), (timeDiff),
	(viaDMATimeStampLowLevel), (viaDMAWaitTimeStamp),
	(viaDMAInitTimeStamp), (viaDMACleanupTimeStamp),
	(viaMpegGetStatus), (viaMpegIsBusy), (syncDMA), (syncVideo),
	(syncAccel), (syncMpeg), (pciFlush), (agpFlush),
	(flushXvMCLowLevel), (flushPCIXvMCLowLevel), (pciCommand),
	(viaMpegSetSurfaceStride), (viaVideoSetSWFLipLocked),
	(viaVideoSWFlipLocked), (viaMpegSetFB), (viaMpegBeginPicture),
	(viaMpegReset), (viaMpegWriteSlice), (viaVideoSubPictureOffLocked),
	(viaVideoSubPictureLocked), (viaBlit), (syncXvMCLowLevel),
	(initXvMCLowLevel), (closeXvMCLowLevel):
	* libxvmc/viaLowLevel.h:
	* libxvmc/viaLowLevelPro.c: (initHQVShadow),
	(setHQVHWDeinterlacing), (setHQVDeblocking), (setHQVStartAddress),
	(setHQVColorSpaceConversion), (setHQVFetchLine), (setHQVScale),
	(setHQVSingleDestination), (setHQVDeinterlacing),
	(setHQVTripleBuffer), (finish_header_agp), (hwlLock), (hwlUnlock),
	(timeDiff), (viaDMATimeStampLowLevel), (viaDMAWaitTimeStamp),
	(viaDMAInitTimeStamp), (viaDMACleanupTimeStamp),
	(viaMpegGetStatus), (viaMpegIsBusy), (syncDMA), (syncVideo),
	(syncAccel), (syncMpeg), (pciFlush), (agpFlush),
	(uploadHQVDeinterlace), (uploadHQVShadow), (flushXvMCLowLevel),
	(flushPCIXvMCLowLevel), (viaMpegSetSurfaceStride),
	(viaVideoSetSWFLipLocked), (viaVideoSWFlipLocked), (viaMpegSetFB),
	(viaMpegBeginPicture), (viaMpegReset), (viaMpegWriteSlice),
	(viaVideoSubPictureOffLocked), (viaVideoSubPictureLocked),
	(viaBlit), (syncXvMCLowLevel), (updateLowLevelBuf),
	(cleanupLowLevelBuf), (releaseXvMCLowLevel), (initXvMCLowLevel),
	(setLowLevelLocking), (closeXvMCLowLevel), (computeDownScaling),
	(computeHQVScaleAndFilter), (setupBackBuffer):
	* libxvmc/viaXvMCPriv.h:
	* libxvmc/vldXvMC.h:
	* libxvmc/xf86dri.c: (uniDRIDestroyContext),
	(uniDRICreateDrawable), (uniDRIDestroyDrawable),
	(uniDRIGetDrawableInfo):
	* libxvmc/xf86dri.h:
	* libxvmc/xf86dristr.h:

	- run indent on libXvMC. Sync XvMC with Xorg 7.0.

2006-01-26  Thomas Hellström <thomas-at-tungstengraphics-dot-com>   

	* unichrome/via_dri.c: (VIADRIKernelInit), (VIADRIMapInit):
	* unichrome/via_driver.h:

	- Add a framebuffer map for DRI. Don't just assume that the
	  framebuffer map handle is the physical address.
	
2006-01-12  Thomas Hellström <unichrome-at-shipmail-dot-org> 

	* unichrome/via_accel.c: (viaExaDownloadFromScreen),
	(viaExaTexUploadToScreen), (viaExaUploadToScreen),
	(viaExaCheckComposite):
	* unichrome/via_driver.h:

	- Exa branch revision 132:138 merge.
	
2006-01-12  Thomas Hellström <unichrome-at-shipmail-dot-org>   

	* unichrome/via_swov.c: (CreateSurface):
	* unichrome/via_video.c: (viaInitVideo), (Flip), (viaDmaBlitImage):

	- Fix planar Xv Flipping and surface allocation size. 
	  (Reported by Tim, MagicITX)
	- Fix Xv dmablit strides and bump drm version for dmablit to 2.9.0, since
	  there is a direction bug in earlier versions.
	  
2006-01-09  Thomas Hellström <unichrome-at-shipmail-dot-org>   

	* libxvmc/viaXvMC.c: (releaseContextResources):
	* unichrome/via_swov.c: (CreateSurface), (ViaSwovSurfaceDestroy):

	- Mark already destroyed XvMC contexts as bad, in case clients 
	  try to destroy them twice.
	- Don't try to destroy YV12 buffers when exiting XvMC video.

2006-01-08  Thomas Hellström  <unichrome-at-shipmail-dot-org>   

	* unichrome/via_accel.c: (viaPixelARGB8888):

	- Merge exa_branch 130:132. Rendering errors.
	- Changelog typo.
	
2006-01-08  Thomas Hellström  <unichrome-at-shipmail-dot-org>   

	* unichrome/via_3d.c: (viaSet3DFlags), (viaSet3DCompositeOperator):
	* unichrome/via_accel.c: (viaIsAGP):

	- Merge exa_branch 127:130. Rendering errors.

2006-01-08  Thomas Hellström  <unichrome-at-shipmail-dot-org>   

	* unichrome/Makefile.am:
	
	- Modular build fix. (Boris Dusek)
	
2006-01-07  Thomas Hellström <unichrome-at-shipmail-dot-org>  

	* unichrome/Imakefile:
	* unichrome/via_accel.c: (viaDumpDMA), (viaFlushPCI),
	(viaFlushDRIEnabled), (viaSetupCBuffer), (viaAccelClippingHelper),
	(viaAccelSolidHelper), (viaAccelPlaneMaskHelper),
	(viaAccelTransparentHelper), (viaAccelCopyHelper),
	(viaSetupForScreenToScreenCopy), (viaSubsequentScreenToScreenCopy),
	(viaSetupForSolidFill), (viaSubsequentSolidFillRect),
	(viaSetupForMono8x8PatternFill),
	(viaSubsequentMono8x8PatternFillRect),
	(viaSetupForColor8x8PatternFill),
	(viaSubsequentColor8x8PatternFillRect),
	(viaSetupForCPUToScreenColorExpandFill),
	(viaSubsequentScanlineCPUToScreenColorExpandFill),
	(viaSetupForImageWrite), (viaSubsequentImageWriteRect),
	(viaSetupForSolidLine), (viaSubsequentSolidTwoPointLine),
	(viaSubsequentSolidHorVertLine), (viaSetupForDashedLine),
	(viaAccelMarkSync), (viaExaPrepareSolid), (viaExaSolid),
	(viaExaPrepareCopy), (viaExaCopy), (viaExaCompositePictDesc),
	(viaExaPrintComposite), (viaBitExpandHelper), (viaPixelARGB8888),
	(viaExpandablePixel), (viaCheckUpload), (viaOrder),
	(viaExaDownloadFromScreen), (viaExaTexUploadToScreen),
	(viaExaUploadToScreen), (viaExaUploadToScratch),
	(viaExaCheckComposite), (viaIsAGP), (viaIsOffscreen),
	(viaExaPrepareComposite), (viaExaComposite), (viaInitExa),
	(viaInitAccel), (viaExitAccel), (viaFinishInitAccel),
	(viaAccelBlitRect), (viaAccelFillRect), (viaAccelSyncMarker):
	* unichrome/via_dga.c:
	* unichrome/via_dmabuffer.h:
	* unichrome/via_dri.c: (VIADRIFBInit):
	* unichrome/via_driver.c: (VIALeaveVT), (VIAScreenInit),
	(VIAWriteMode), (VIACloseScreen):
	* unichrome/via_driver.h:

	- Merge in exa_branch from revision 104 to 127. Exa Composite acceleration.
	  See the branch Changelog for a detailed description of changes.
	
2006-01-06  Thomas Hellström 

	* unichrome/via_accel.c: (viaExaDownloadFromScreen),
	(viaExaUploadToScreen):
	* unichrome/via_video.c: (viaDmaBlitImage):

	- Update Xv blit to new blit-combining feature of DRM.
	  (Idea from Luc Verhaegen/Unichrome).
	- Prepare for ugly via_drm.h dmablit IOCTL arg change and via_drm.h 
	  versioning.
	
2005-12-29  Thomas Hellström  <unichrome-at-shipmail-dot-org> 
	
	* unichrome/via_video.c: (viaDmaBlitImage):

	- Fix Xv YUY2/RVXX dmaBlit stride.
	
2005-12-26  Thomas Hellström  <unichrome-at-shipmail-dot-org> 

	* libxvmc/Makefile.am:

	- Modular build two identical XvMC libs. The pro lib was not a pro lib. 
	  Fix this.
	  (Tim Dodge)

2005-12-15  Thomas Hellström <unichrome-at-shipmail-dot-org> 

	* unichrome/via_accel.c: (viaInitAccel):

	- Make sure the accel marker system is properly initialized.
	
2005-12-08  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_driver.c: (VIAScreenInit):
	* unichrome/via_memory.c: (VIAAllocLinear):

	- Protect the accelerated initial sceen clearing with a DRI lock.
	- Submit the correct context for drm memory allocation.
	
2005-12-08  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_ch7xxx.c: (CH7xxxModeI2C):
	* unichrome/via_dri.c: (VIADRIAgpInit):
	* unichrome/via_driver.c: (VIAScreenInit):
	* unichrome/via_id.c:

	- Moved the memset from previous commit to after dri is initialized, so
	  that AGP command submission will work.
	- Silenced some warnings.

2005-12-08  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_driver.c: (VIAScreenInit):
	* unichrome/via_mode.c: (ViaModePrimary):
	* unichrome/via_vbe.c: (ViaVbeSetMode):

	- Moved memset to blank screen from ModeSetting to ScreenInit, in
	  an attempt to avoid long standing hangs on K8M800. Also use
	  the 2D engine for this if acceleration is enabled.

2005-12-07  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* Makefile.in:

	- Removed Makefile.in since it is generated by the build process.
	
2005-12-06  Jon Nettleton <jon-dot-nettleton-at-gmail-dot-com>

	* Makefile.am:
	* Makefile.in:

        - Added Makefile.am and Makefile.in to allow running make
	  in the root directory 

2005-12-06  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* acinclude.m4:
	* autogen.sh:
	* configure.ac:
	* libxvmc/Makefile.am:
	* libxvmc/driDrawable.c:
	* libxvmc/viaLowLevel.c:
	* libxvmc/viaLowLevelPro.c:
	* libxvmc/viaXvMC.c:
	* libxvmc/viaXvMCPriv.h:
	* libxvmc/xf86dri.c:
	* man/Makefile.am:
	* unichrome/Makefile.am:
	* unichrome/via_accel.c:
	* unichrome/via_bandwidth.c:
	* unichrome/via_ch7xxx.c:
	* unichrome/via_cursor.c:
	* unichrome/via_dga.c:
	* unichrome/via_dri.c:
	* unichrome/via_driver.c:
	* unichrome/via_i2c.c:
	* unichrome/via_id.c:
	* unichrome/via_memcpy.c:
	* unichrome/via_memory.c:
	* unichrome/via_mode.c:
	* unichrome/via_shadow.c:
	* unichrome/via_vbe.c:
	* unichrome/via_vgahw.c:
	* unichrome/via_vt162x.c:
	* unichrome/via_xvmc.c:

	Adjust for modular build.

2005-12-04  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_vt162x.c: (VT1622ModeCrtc):

	- Fix trac item #13. 
	  This will probably also make TV-out work on some K8M/N800 laptops,
	  and will probaly fix TV-out after a resume.

2005-12-02  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* libxvmc/Imakefile:
	* libxvmc/xf86dri.c:

	- 64 bit fixes on libviaXvMC*
	
2005-12-02  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	reviewed by: <delete if not using a buddy>

	* unichrome/via_accel.c: (viaAccelPlaneMaskHelper),
	(viaAccelTransparentHelper), (viaSetupForScreenToScreenCopy),
	(viaSetupForSolidFill), (viaSetupForMono8x8PatternFill),
	(viaSetupForColor8x8PatternFill),
	(viaSetupForCPUToScreenColorExpandFill), (viaSetupForImageWrite),
	(viaSetupForSolidLine), (viaSubsequentSolidTwoPointLine),
	(viaSetupForDashedLine), (viaAccelMarkSync), (viaExaPrepareSolid),
	(viaExaPrepareCopy), (viaInitAccel), (viaDGABlitRect),
	(viaDGAFillRect):
	* unichrome/via_driver.c:
	* unichrome/via_driver.h:

	- Merge exa_branch revisions 91:104:
	  Add support for EXA planemasks.
	  Tell loader about some missing EXA functions (Reported by Adam Jackson).
	  Fix broken XAA dashed lines.
	
2005-12-01  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* libxvmc/Imakefile:
	* unichrome/Imakefile:
	* unichrome/via_driver.c:

	- Remove drmCommandWriteRead from drm loader symbols again.
	  Ivor had already added it :)
	- Fix a typo in unichrome/Imakefile that broke build on x86_64.
	- Add $(PICFLAGS) to libxvmc Makefile to make it build on x86_64.

2005-12-01  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_driver.c:
	* unichrome/via_memory.c: (VIAFreeLinear):

	- Add drmCommandWriteRead to drm loader symbols.
	- Make the drm freemem call drmCommandWrite.
	
2005-11-29  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_accel.c: (viaInitAccel):
	* unichrome/via_memory.c: (VIAAllocLinear):

	- Merge exa_branch revisions 86:91 
	
2005-11-29  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/Imakefile:

	- Yet another drm.h include fixup. For 6.8 and earlier?
	
2005-11-28  Ivor Hewitt <ivor-at-ivor-dot-org>

	* unichrome/via_id.c:
        
        - Just another id. (Tobias Blom)

2005-11-28  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/Imakefile:

	- Include the correct drm.h file. This is important for 64 bit builds.
	
2005-11-26  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_accel.c: (viaFlushDRIEnabled), (viaSetupCBuffer):

	- Merged EXA branch changes between revisions 84 and 86.

2005-11-23  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_accel.c: (viaFlushPCI), (viaFlushDRIEnabled),
	(viaSetupCBuffer), (viaTearDownCBuffer), (viaEnableVQ),
	(viaDisableVQ), (viaAccelSetMode), (viaInitialize2DEngine),
	(viaAccelSync), (viaSetClippingRectangle),
	(viaAccelClippingHelper), (viaAccelSolidHelper),
	(viaAccelTransparentHelper), (viaAccelCopyHelper),
	(viaSetupForScreenToScreenCopy), (viaSubsequentScreenToScreenCopy),
	(viaSetupForSolidFill), (viaSubsequentSolidFillRect),
	(viaSetupForMono8x8PatternFill),
	(viaSubsequentMono8x8PatternFillRect),
	(viaSetupForColor8x8PatternFill),
	(viaSubsequentColor8x8PatternFillRect),
	(viaSetupForCPUToScreenColorExpandFill),
	(viaSubsequentScanlineCPUToScreenColorExpandFill),
	(viaSetupForImageWrite), (viaSubsequentImageWriteRect),
	(viaSetupForSolidLine), (viaSubsequentSolidTwoPointLine),
	(viaSubsequentSolidHorVertLine), (viaSetupForDashedLine),
	(viaSubsequentDashedTwoPointLine), (viaInitXAA),
	(viaAccelMarkSync), (viaAccelWaitMarker), (viaExaPrepareSolid),
	(viaExaSolid), (viaExaPrepareCopy), (viaExaCopy),
	(viaExaDownloadFromScreen), (viaExaUploadToScreen), (viaInitExa),
	(viaInitAccel), (viaExitAccel), (viaDGABlitRect), (viaDGAFillRect):

	- Merged EXA branch changes between revisions 74 and 84. Mainly
	  indentations and minor bugfixes.
	
2005-11-15  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_swov.c: (ViaSwovSurfaceCreate),
	(ViaSwovSurfaceDestroy):
	* unichrome/via_video.c: (viaSetupAdaptors):
	* unichrome/via_xvpriv.h:

	- Fix Xv surface destruction and re-allocation.
	  (Reported by Cedric Berger).
	
2005-11-15  Thomas Hellström <unichrome-at-shipmail-dot-org>  

	* unichrome/Imakefile:
	* unichrome/via_accel.c: (viaTearDownCBuffer),
	(viaAccelSolidHelper), (viaAccelCopyHelper),
	(viaExaDownloadFromScreen), (viaExaUploadToScreen):
	* unichrome/via_driver.c: (VIAScreenInit):

	- Merged changes in exa_branch revisions 67 to 74. For a detailed
	  ChangeLog, see that branch.
	
2005-11-09  Thomas Hellström <unichrome-at-shipmail-dot-org> 

	* unichrome/Imakefile:
	* unichrome/via_accel.c: (viaFlushPCI), (viaFlushDRIEnabled),
	(viaSetupCBuffer), (viaTearDownCBuffer), (viaInitAgp),
	(viaEnableVQ), (viaDisableVQ), (viaAccelSetMode),
	(viaInitialize2DEngine), (viaAccelSync), (viaSetClippingRectangle),
	(viaDisableClipping), (viaAccelClippingHelper),
	(viaAccelSolidHelper), (viaAccelTransparentHelper),
	(viaAccelCopyHelper), (viaSetupForScreenToScreenCopy),
	(viaSubsequentScreenToScreenCopy), (viaSetupForSolidFill),
	(viaSubsequentSolidFillRect), (viaSetupForMono8x8PatternFill),
	(viaSubsequentMono8x8PatternFillRect),
	(viaSetupForColor8x8PatternFill),
	(viaSubsequentColor8x8PatternFillRect),
	(viaSetupForCPUToScreenColorExpandFill),
	(viaSubsequentScanlineCPUToScreenColorExpandFill),
	(viaSetupForImageWrite), (viaSubsequentImageWriteRect),
	(viaSetupForSolidLine), (viaSubsequentSolidTwoPointLine),
	(viaSubsequentSolidHorVertLine), (viaSetupForDashedLine),
	(viaSubsequentDashedTwoPointLine), (viaInitXAA),
	(viaAccelMarkSync), (viaAccelWaitMarker), (viaExaPrepareSolid),
	(viaExaSolid), (viaExaDoneSolidCopy), (viaExaPrepareCopy),
	(viaExaCopy), (viaExaDownloadFromScreen), (viaExaUploadToScreen),
	(viaInitExa), (viaInitAccel), (viaExitAccel), (viaDGABlitRect),
	(viaDGAFillRect), (viaDGAWaitMarker):
	* unichrome/via_cursor.c: (VIALoadCursorImage):
	* unichrome/via_dga.c:
	* unichrome/via_dri.c: (VIADRIFBInit), (VIADRIScreenInit),
	(VIADRICloseScreen), (VIADRIFinishScreenInit):
	* unichrome/via_driver.c: (VIASetup), (VIAPreInit), (VIALeaveVT),
	(VIAScreenInit), (VIAWriteMode), (VIACloseScreen), (VIASwitchMode):
	* unichrome/via_driver.h:
	* unichrome/via_memcpy.c: (viaVidCopyInit):
	* unichrome/via_memory.c: (VIAFreeLinear), (offScreenLinear),
	(VIAAllocLinear), (VIAInitLinear):
	* unichrome/via_priv.h:
	* unichrome/via_vbe.c: (ViaVbeSetMode):

	- Merge exa_branch from revision 52 to 67. For a detailed Changelog,
	  check that branch. 

2005-11-09  Ivor Hewitt <ivor-at-ivor-dot-org>

	* unichrome/via_driver.c: (VIAPreInit):
	* unichrome/via_mode.c: (ViaModeDotClockTranslate):

	- Fix pro-mode and remove pro warning. (Paul Bender)

2005-11-08  Ivor Hewitt <ivor-at-ivor-dot-org>

	* unichrome/via_driver.c: (VIASwitchMode):

	- Dont kickVblank with no DRI enabled. (Joris van Rantwijk)

2005-11-02  Ivor Hewitt <ivor-at-ivor-dot-org>

	* unichrome/via_mode.c: (ViaGetMemoryBandwidth):
	* unichrome/via_mode.h:

	- Give VM800 some bandwidth.

2005-11-01  Thomas Hellström <unichrome-at-shipmail-dot-org> 

	* libxvmc/viaLowLevel.c: (viaDMAInitTimeStamp):
	* libxvmc/viaLowLevelPro.c: (viaDMAInitTimeStamp),
	(updateLowLevelBuf):
	* unichrome/via_drmclient.h:
	
	-Fix compilation errors caused by the drm / dri update.
	 (reported by Tarun Kripalani)
	
2005-10-31  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_accel.c: (VIAInitAccel):
	* unichrome/via_cursor.c: (VIAHWCursorInit):

	-Second attempt at fixing the hw cursor issue.
	 There were actually two errors involved.
	
2005-10-31  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_xvpriv.h:

	-Fix stray include left over by previous commit.
	
2005-10-31 Ivor Hewitt <ivor-at-ivor-dot-org>

	 * unichrome/via_id.c:

         -Mitac 8889 device id (Daniel Schindler)

2005-10-30  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_accel.c: (VIAInitAccel):

	-Revert the hardware cursor fix since it for some strange reason
	 makes hw cursors white. Need to figure out why.
	
2005-10-30  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_video.c: (viaInitVideo), (viaSetupAdaptors),
	(nv12cp), (viaDmaBlitImage), (viaPutImage), (nv12Blit):
	* unichrome/via_xvpriv.h:

	-Enable DMA Xv image transfers also for PM8X0 / CN400. 
	 YV12 to NV12 conversion is still software but now takes place 
	 in system memory instead of during transfer to framebuffer memory.
	 CPU usage is much improved on PM8X0. Less so on CN400. 
	 Hardware YV12 to NV12 conversion using the blitter was implemented
	 and tested but was very slow, probably due to the fact that blitting
	 only took place one column at a time. Since sync on the 2D engine 
	 currently requires a busy-wait, the approach was not only slow, but
	 also CPU-consuming.
	
2005-10-27  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_video.c: (viaExitVideo), (viaSaveVideo),
	(viaRestoreVideo), (VIAVidAdjustFrame):

	-Fix server crash when compiled without -DXvExtension.
	
2005-10-27  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_dri.c: (VIADRIRingBufferInit), (VIADRIScreenInit),
	(VIADRIFinishScreenInit), (VIADRIMapInit):
	* unichrome/via_dri.h:
	* unichrome/via_driver.h:
	* unichrome/via_drm.h:
	* unichrome/via_memory.c: (VIAFreeLinear), (VIAAllocLinear):
	* unichrome/via_video.c: (viaInitVideo):
	* unichrome/via_xvmc.c: (ViaInitXVMC):

	-Sync dri handling with Xorg. This should hopefully make it run
	-with Mesa 6.4 again. (Luc Verhaegen, Eric Anholt, Me)

2005-10-27  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_video.c: (viaPutImage):

	-Make via_video.c compile without -DXF86DRI. Broken with the
	-dmablit commit. (Reported by Luc Verhaegen)
	
2005-10-27  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_accel.c: (VIAInitAccel):

	-Fix HW cursor memory allocation.

2005-10-18  Ivor Hewitt <ivor-at-ivor-dot-org>

	* unichrome/via_bandwidth.c: (ViaSetPrimaryFIFO),
	(ViaSetSecondaryFIFO):
	* unichrome/via_driver.c: (VIAPreInit):
	* unichrome/via_id.c:
	* unichrome/via_id.h:
	* unichrome/via_swov.c: (VIAVidHWDiffInit):

        -Remaining device id's lying about. 
        -Remove PM800 conditionals

2005-10-18  Ivor Hewitt <ivor-at-ivor-dot-org>

	* unichrome/via_driver.c: (VIAPreInit):
	* unichrome/via_id.c:
	* unichrome/via_id.h:
	* unichrome/via_mode.h:

	-Device id additions. AsRock P4VM800 reported by Mariano Benedettini

2005-09-25  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via.h:
	* unichrome/via_dri.c: (VIADRIRingBufferInit),
	(VIADRIFinishScreenInit):
	* unichrome/via_dri.h:
	* unichrome/via_driver.h:
	* unichrome/via_drm.h:
	* unichrome/via_priv.h:
	* unichrome/via_swov.c: (viaWaitHQVFlip), (viaWaitHQVFlipClear),
	(viaWaitHQVDone), (viaOverlayGetV1V3Format),
	(viaOverlayGetSrcStartAddress), (viaOverlayGetFetch),
	(viaSetColorSpace), (ViaSetVidCtl), (AddHQVSurface),
	(ViaSwovSurfaceCreate), (ViaSwovSurfaceDestroy),
	(SetFIFO_V3_64or32or32), (SetFIFO_V3_64or32or16), (SetColorKey),
	(SetChromaKey), (SetHQVFetch), (Upd_Video), (VIAVidUpdateOverlay),
	(ViaOverlayHide):
	* unichrome/via_video.c: (DecideOverlaySupport), (viaResetVideo),
	(viaSaveVideo), (viaExitVideo), (viaInitVideo), (viaReputImage),
	(viaSetupAdaptors), (viaStopVideo), (Flip), (nv12cp),
	(viaDmaBlitImage), (viaPutImage), (viaQueryImageAttributes):
	* unichrome/via_xvmc.c: (ViaInitXVMC):
	* unichrome/via_xvpriv.h:

	Big Xv update.
	-Bring Xv in sync with Xorg, which includes RV15 and RV16 support.
	-Add support for PCI DMA Xv image transfer. This requires DRM >= 2.7.0,
	 and does not yet work on Unichrome Pro group A, since YV12->NV12 hardware
	 conversion is not yet implemented. 
	
2005-08-13  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_swov.c: (ViaSwovSurfaceDestroy):

	-Destroy video surfaces on video exit / stop.

2005-08-13  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_driver.c: (VIAAdjustFrame)

	-Fix Xv panning also for VBEModes.
	
2005-08-12  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_driver.c: (VIAEnterVT):

	-Fix segfault on EnterVT when DRI is not enabled.
	 (Joris van Rantwijk)

2005-08-12  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_priv.h:
	* unichrome/via_swov.c: (VIAVidUpdateOverlay):
	* unichrome/via_video.c: (RegionsEqual), (viaReputImage),
	(viaSetupAdaptors), (VIAVidAdjustFrame):

	-Fix Xv panning. Speed up overlay updates on window moves.

2005-08-12  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_video.c: (viaExitVideo):

	-Fix stopvideo for all ports and adaptors.
	
2005-08-10  Ivor Hewitt  <ivor-at-ivor-dot-org>

	* unichrome/Imakefile:
	* unichrome/via_bios.h:
	* unichrome/via_ch7xxx.c: (CH7xxxPrintRegs), (ViaCH7xxxDetect),
	(CH7xxxSave), (CH7xxxRestore), (CH7xxxDACSenseI2C),
	(CH7xxxDACSense), (CH7011ModeIndex), (CH7019ModeIndex),
	(CH7xxxModeValid), (CH7xxxModeI2C), (CH7xxxModeCrtc),
	(CH7xxxTVPower), (CH7019LCDPower), (ViaCH7xxxInit):
	* unichrome/via_ch7xxx.h:
	* unichrome/via_driver.c: (VIAPreInit):
	* unichrome/via_id.c:
	* unichrome/via_mode.c: (ViaTVDetect), (ViaTVInit):
	* unichrome/via_vt162x.c: (ViaVT162xDetect), (VT1625DACSenseI2C),
	(VT1625DACSense), (VT1621ModeIndex), (VT1622ModeIndex),
	(VT1625ModeValid), (VT1622ModeI2C), (VT1622ModeCrtc),
	(VT1625Power), (ViaVT162xInit):
	* unichrome/via_vt162x.h:

        -Initial steps to incorporating CH7xxx and VT1625 support
        merging patches from David George, Philip Prindeville, Terry Lewis

2005-07-30  Ivor Hewitt  <ivor-at-ivor-dot-org>

	* libxvmc/Imakefile:
	* unichrome/via_mode.c: (ViaGetMemoryBandwidth),
	(ViaModePrimaryVGA), (ViaModePrimary):
	* unichrome/via_swov.c:

	-Merge fixes from xorg for typos in mode setting and sync set

2005-07-18  Ivor Hewitt  <ivor-at-ivor-dot-org>

	* unichrome/via_id.c:

	-Additional card-id. Reported by Philip Prindeville

2005-07-04  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_driver.c: (VIAPreInit), (VIAScreenInit):
	* unichrome/via_id.c:

	-Avoid calling DPMS to blank screen during init with VBEModes
	-Add another card ID.
	
2005-06-29  Ivor Hewitt  <ivor-at-ivor-dot-org>

	* unichrome/via_id.c:

	-Additional card-ids. Patch from Xavier Bachelot
	
2005-06-26  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* libxvmc/viaLowLevelPro.c: (finish_header_agp), (syncDMA),
	(syncVideo), (pciFlush), (agpFlush), (uploadHQVDeinterlace),
	(uploadHQVShadow), (flushXvMCLowLevel), (flushPCIXvMCLowLevel),
	(viaMpegSetSurfaceStride), (viaVideoSetSWFLipLocked),
	(viaVideoSWFlipLocked), (viaMpegSetFB), (viaMpegBeginPicture),
	(viaMpegReset), (viaMpegWriteSlice), (viaVideoSubPictureOffLocked),
	(viaVideoSubPictureLocked), (viaBlit), (syncXvMCLowLevel),
	(releaseXvMCLowLevel), (initXvMCLowLevel), (closeXvMCLowLevel):

	-Clean up the VIDEO_DMA ifdef mess before xorg inclusion. 
	-Make VIDEO_DMA wait for DMA quiescent before flipping, pending proper
	 HQV locking.
	-Disable VIDEO_DMA to improve latency pending proper HQV locking.

2005-06-17  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_mode.c: (ViaSetPrimaryDotclock),
	(ViaSetSecondaryDotclock), (ViaComputeProDotClock),
	(ViaModeDotClockTranslate):

	- Free dotclock on Unichrome Pro. Pls report problems with 
	  unstable clocks.
	- Minor 64-bit fixes.

2005-06-16  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_xvmc.c: (ViaXvMCCreateContext),
	(ViaXvMCCreateSurface), (ViaXvMCCreateSubpicture):
	* unichrome/via_xvmc.h:

	- XvMC 64 bit fixes. XvMC now runs on K8M800 64-bit Linux.
	
2005-06-12  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_bios.h:
	* unichrome/via_i2c.c:
	* unichrome/via_mode.c: (ViaTVRestore):
	* unichrome/via_vt162x.c: (VT162xPrintRegs), (ViaVT162xDetect),
	(VT162xSave), (VT162xRestore), (ViaVT162xInit):

	- Fix up the vt1623 encoder: Correct device ID, number of registers
	  and most of all reading from the i2cbus it is sitting on.

2005-06-11  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_dri.c: (VIADRIScreenInit):

	- Update via_dri.c to compile with new libdri.
	
2005-06-01  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_mode.c: (ViaModePrimary):
	* unichrome/via_vt162x.h:

	- Fix TV-out on Unichrome Pro. To make it work CRT+TV needs to be
	  enabled in BIOS. Still it will hang the machine or possibly only
	  the display chip on X server exit.
	- Import the 720x576Noscale mode for vt1622A/vt1623 from the Unichrome
	  driver (Terry Barnaby)

2005-05-25  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* libxvmc/viaLowLevelPro.c: (setHQVDeinterlacing):
	* libxvmc/viaXvMC.c:
	* unichrome/via_driver.c:
	* unichrome/via_mode.c: (ViaModePrimary):
	* unichrome/via_mode.h:
	* unichrome/via_vt162x.c: (ViaVT162xDetect):

	- Updated incorrect field order in libViaXvMCPro.
	- Fixed warnings about unresolved int10 symbols in the Unichrome driver.
	- Updated Unichrome Pro dotclocks - also for TV.
	- Made the driver recognize the vt1623 TV encoder on the EPIA SP13000.
	- Removed unnecessary define in viaXvMC.c.
	
2005-05-16  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* libxvmc/driDrawable.c: (getDRIDrawableInfoLocked):
	* libxvmc/viaXvMC.c: (releaseContextResources),
	(XvMCCreateContext):
	* libxvmc/xf86dri.c: (uniDRIDestroyContext),
	(uniDRICreateDrawable), (uniDRIDestroyDrawable),
	(uniDRIGetDrawableInfo):
	* libxvmc/xf86dri.h:

	- Changed DRI client function names since they clash with
	  via_dri.so, causing strange problems in, for example, xine.
	
2005-05-16  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* unichrome/via_dri.c: (VIASetAgpMode), (VIADRIAgpInit):

	- Added better AGP mode control to the DDX.

2005-05-11  Thomas Hellström  <unichrome-at-shipmail-dot-org>

	* prepare-ChangeLogSVN.pl:

	- Added the above file for generation of ChangeLog Entries.

	
2005-05-11  Thomas Hellström  <unichrome-at-shipmail-dot-org>
	
	* libxvmc/driDrawable.c:
	* libxvmc/viaLowLevel.c: (hwlLock), (hwlUnlock),
	(setAGPSyncLowLevel), (viaDMATimeStampLowLevel),
	(flushXvMCLowLevel), (flushPCIXvMCLowLevel),
	(viaMpegSetSurfaceStride), (viaVideoSetSWFLipLocked),
	(viaVideoSWFlipLocked), (viaMpegSetFB), (viaMpegBeginPicture),
	(viaMpegReset), (viaMpegWriteSlice), (viaVideoSubPictureOffLocked),
	(viaVideoSubPictureLocked), (viaBlit), (syncXvMCLowLevel),
	(initXvMCLowLevel), (setLowLevelLocking), (closeXvMCLowLevel):
	* libxvmc/viaLowLevel.h:
	* libxvmc/viaLowLevelPro.c: (initHQVShadow),
	(setHQVHWDeinterlacing), (setHQVDeblocking), (setHQVStartAddress),
	(setHQVColorSpaceConversion), (setHQVFetchLine), (setHQVScale),
	(setHQVSingleDestination), (setHQVDeinterlacing),
	(setHQVTripleBuffer), (hwlLock), (hwlUnlock), (setAGPSyncLowLevel),
	(viaDMATimeStampLowLevel), (viaDMAInitTimeStamp),
	(uploadHQVDeinterlace), (uploadHQVShadow), (flushXvMCLowLevel),
	(flushPCIXvMCLowLevel), (viaMpegSetSurfaceStride),
	(viaVideoSetSWFLipLocked), (viaVideoSWFlipLocked), (viaMpegSetFB),
	(viaMpegBeginPicture), (viaMpegReset), (viaMpegWriteSlice),
	(viaVideoSubPictureOffLocked), (viaVideoSubPictureLocked),
	(viaBlit), (syncXvMCLowLevel), (updateLowLevelBuf),
	(cleanupLowLevelBuf), (initXvMCLowLevel), (setLowLevelLocking),
	(closeXvMCLowLevel), (computeDownScaling),
	(computeHQVScaleAndFilter), (setupBackBuffer):
	* libxvmc/viaXvMC.c: (grabDecoder), (releaseContextResources),
	(XvMCCreateContext), (XvMCCreateSurface), (XvMCPutSlice2),
	(XvMCPutSlice), (XvMCPutSurface), (XvMCBeginSurface),
	(XvMCSyncSurface), (XvMCLoadQMatrix), (XvMCCreateSubpicture),
	(XvMCSetSubpicturePalette), (XvMCClearSubpicture),
	(XvMCCompositeSubpicture), (XvMCBlendSubpicture2),
	(XvMCSyncSubpicture), (XvMCDestroySubpicture), (XvMCFlushSurface),
	(XvMCGetSurfaceStatus), (XvMCQueryAttributes), (XvMCSetAttribute),
	(XvMCGetAttribute), (XvMCHideSurface):
	* libxvmc/viaXvMCPriv.h:
	* unichrome/via_swov.c: (ViaSwovSurfaceCreate):
	* unichrome/via_video.c: (viaSetupAdaptors):
	* unichrome/via_xvpriv.h:

	- Added ChangeLog to the repository.
	- Made the DDX update the overlay if a change in surface format occured
	  while it's dimensions are still the same.
	- Made the XvMCLowLevel struct opaque (void *) and not defined in the 
	  header file. This allows for different definitions for different hardware
	- Added a HQV shadow which holds the HQV context for the Unichrome Pro. 
	  The purpose is twofold:
	  1. If someone else touched the HQV since we last used it, we can upload the
	     whole context.
	  2. We do not need to read from the HQV, which is bad because we have to 
	     halt the DMA engine to do that.
	- Added and activated mpeg deblocking for Unichrome Pro.
	- Added a number of HQV utility functions for the upcoming video engine free
	  output. These are not activated yet. (Unichrome Pro.)
	- Added HW deinterlacing functions. Deactivated, since I cannot see any visible
	  difference. (Unichrome Pro.)
